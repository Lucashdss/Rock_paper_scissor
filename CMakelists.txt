cmake_minimum_required(VERSION 3.14)

project(RockPaperScissor)

# Dependencies
find_package(Catch2 3 REQUIRED)
find_package(raylib REQUIRED)


#library with includes
add_library(gameLib
    src/player/player.cpp
    src/player/cpuEnemy/cpuEnemy.cpp
    src/animation/animation.cpp
)

target_include_directories(gameLib PUBLIC
    src/player
    src/player/cpuEnemy
    src/animation
)
#---------------------------------------------

# Test executable
add_executable(generalTest
    src/player/playerTest.cpp
    src/player/cpuEnemy/cpuEnemyTest.cpp
)

target_link_libraries(generalTest PRIVATE
    Catch2::Catch2WithMain
    gameLib
)
#------------------------------------------------

# Main application executable
add_executable(mainApp
    src/main.cpp
)

# Copy assets directory to the build folder
add_custom_command(
    TARGET mainApp POST_BUILD
    COMMAND ${CMAKE_COMMAND} -E copy_directory
        ${CMAKE_SOURCE_DIR}/assets
        ${CMAKE_BINARY_DIR}/assets
)

target_link_libraries(mainApp PRIVATE
    raylib
    gameLib
)

#---------------------------------------------



